# API –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- FastAPI –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π.
- Pydantic –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.
- OAuth2 —Å –ø–∞—Ä–æ–ª–µ–º (–∏ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º), Bearer —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏.
- –•—Ä–∞–Ω–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–æ–≤ –≤ –∫—É–∫–∏ —Ñ–∞–π–ª–∞—Ö –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–∞.
- –í–Ω–µ—à–Ω–∏–π API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–º–µ–Ω–Ω—ã—Ö –∫—É—Ä—Å–æ–≤ —Å –ø–æ–º–æ—â—å—é requests.
- –ú–æ–¥—É–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º pytest.
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º environs.
- HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å CSS –∏ JavaScript –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
- Jinja –¥–ª—è —à–∞–±–ª–æ–Ω–∏–∑–∞—Ü–∏–∏ HTML —Å—Ç—Ä–∞–Ω–∏—Ü.
- –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º uvicorn.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ üîß

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ.
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ —Ñ–∞–π–ª–∞ `requirements.txt`.
  ```shell
  pip install -r requirements.txt
  ```

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ä–µ–¥—ã
- –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Ñ–∞–π–ª `.env.example` –Ω–∞ `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
    ```
    CURRENCY_API_KEY=your_api_key
    SECRET_KEY=your_secret_key
    ```

### 3. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://127.0.0.1:8000`.
  ```shell
  uvicorn main:app --reload
  ```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã –ø–∞–ø–∫–∏ `tests` —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `pytest`.

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ API

- **–í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ JWT-—Ç–æ–∫–µ–Ω–∞:**
    ```shell
    curl -X POST 'http://127.0.0.1:8000/auth/login/' --header 'content-type: application/x-www-form-urlencoded' --form 'username="john"' --form 'password="pass"''
    ```

- **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≤–∞–ª—é—Ç –∏ –∏—Ö –∫–æ–¥–æ–≤ (–≤–∞–ª–∏–¥–Ω—ã–π JWT-—Ç–æ–∫–µ–Ω):**
    ```shell
    curl -X GET 'http://127.0.0.1:8000/currency/get_list/' --header 'Cookie: access_token="Bearer your_jwt_token"'  
    ```

- **–û–±–º–µ–Ω –≤–∞–ª—é—Ç—ã (–≤–∞–ª–∏–¥–Ω—ã–π JWT-—Ç–æ–∫–µ–Ω):**
    ```shell
    curl -X GET 'http://127.0.0.1:8000/currency/exchange/?base=usd&quote=rub&amount=1000' --header 'Cookie: access_token="Bearer your_jwt_token"'  
    ```

## –ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤ API
- **–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤—Ö–æ–¥–µ –∏ —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫—É–∫–∏ —Ñ–∞–π–ª–∞—Ö:**
    ```text
    'Cookie: access_token="Bearer received_jwt_token"'
    ```
- **–°–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≤–∞–ª—é—Ç:**
    ```json
    {
        "AED": "United Arab Emirates Dirham",
        "AFN": "Afghan Afghani",
        "ALL": "Albanian Lek",
        ...
    }
    ```
- **–£—Å–ø–µ—à–Ω—ã–π –æ–±–º–µ–Ω –≤–∞–ª—é—Ç—ã:**
    ```json
    {
        "success": true,
        "query": {
            "from": "USD",
            "to": "RUB",
            "amount": 1000
        },
        "info": {
            "timestamp": 1700419983,
            "quote": 89.350433
        },
        "result": 89350.433
    }
    ```

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é Postman
<p align="center"><img src="https://i.ibb.co/cx8X67X/2023-11-19-221513.png" alt="img"></p>
<p align="center"><img src="https://i.ibb.co/hB8QhpH/2023-11-19-221715.png" alt="img"></p>
<p align="center"><img src="https://i.ibb.co/nQyrmMn/2023-11-19-221823.png" alt="img"></p>

## HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
<p align="center"><img src="https://i.ibb.co/2M29gpj/2023-11-19-222658.png" alt="img"></p>
<p align="center"><img src="https://i.ibb.co/VN48pDf/2023-11-19-222744.png" alt="img"></p>
<p align="center"><img src="https://i.ibb.co/wrhWtjW/2023-11-19-222755.png" alt="img"></p>
